import{_ as s,o as a,c as n,Q as o}from"./chunks/framework.1baa841b.js";const f=JSON.parse('{"title":"Favoris","description":"","frontmatter":{},"headers":[],"relativePath":"ipa/favoris.md","filePath":"ipa/favoris.md"}'),l={name:"ipa/favoris.md"},e=o(`<h1 id="favoris" tabindex="-1">Favoris <a class="header-anchor" href="#favoris" aria-label="Permalink to &quot;Favoris&quot;">​</a></h1><p>Étant un système distribué, Constellation ne garde pas les données quelque part sur un serveur central. Ce sont les utilisateurs eux-mêmes qui en gardent et partagent des copies sur leurs dispositifs.</p><p>Donc comment être sûre que les données qui vous intéressent seront toujours disponibles, même si la personne qui les a contribuées ferme son ordinateur pour la nuit, échape son téléphone dans un égout d&#39;une ruelle à Coimbatore ou bien tout simplement décide qu&#39;elle retourne avec Google Sheets et efface son compte Constellation ?</p><p>En ajoutant des données à vos favoris, vous serez assurés que Constellation en gardera toujours une copie locale, même si les données ne sont plus disponibles ailleurs sur le réseau.</p><div class="warning custom-block"><p class="custom-block-title">AVERTISSEMENT</p><p>Constellation est toujours un logiciel expérimental. Des « oups » sont toujours possibles. <strong>Si vos données sont vraiment vraiment importantes, on vous suggère, en plus de les ajouter à vos favoris, d&#39;en garder une copie exportée comme sauvegarde d&#39;au cas où.</strong> Vous pouvez aussi <a href="./automatisations.html">automatiser</a> l&#39;exportation des données de manière périodique ; c&#39;est bien pratique !</p><p>Bon, là vous êtes prévenus, majeurs et vaccinés. Si vous ne m&#39;écoutez pas, je ne suis pas responsable. (En réalité, selon la <a href="https://github.com/reseau-constellation/ipa/blob/main/LICENSE" target="_blank" rel="noreferrer">licence</a>, je ne le suis pas peu importe.)</p></div><nav class="table-of-contents"><ul><li><a href="#fonctions">Fonctions</a><ul><li><a href="#client-favoris-suivrefavoris-f-idcompte">client.favoris.suivreFavoris({ f, idCompte })</a></li><li><a href="#client-favoris-epinglerfavori-idobjet-dispositifs">client.favoris.épinglerFavori({ idObjet, dispositifs, ... })</a></li><li><a href="#client-favoris-desepinglerfavori-idobjet">client.favoris.désépinglerFavori({ idObjet })</a></li><li><a href="#client-favoris-suivreetatfavori-idobjet-f">client.favoris.suivreÉtatFavori({ idObjet, f })</a></li><li><a href="#client-favoris-suivreestepinglesurdispositif-idobjet-f">client.favoris.suivreEstÉpingléSurDispositif({ idObjet, f, ... })</a></li></ul></li><li><a href="#types">Types</a></li></ul></nav><h2 id="fonctions" tabindex="-1">Fonctions <a class="header-anchor" href="#fonctions" aria-label="Permalink to &quot;Fonctions&quot;">​</a></h2><p>Ces fonctions permettent de suivre et de modifier les données épinglés dans nos favoris. Plusieurs d&#39;entre elles permenttent de spécifier quels dispositifs doivent épingler les données en question. Cette spécification pourra être l&#39;une des suivantes :</p><ul><li>L&#39;identifiant (ou une liste d&#39;identifiants) des dispositifs, obtenables selon <a href="./client.html#clientobtiddispositif"><code>client.obtIdDispositif()</code></a> ou bien <a href="./client.html#client-suivredispositifs-f-idcompte"><code>client.suivreDispositifs</code></a>.</li><li><code>&quot;TOUS&quot;</code>, soit, tous les dispositifs de ce compte.</li><li><code>&quot;INSTALLÉ&quot;</code>, soit, tous les dispositifs ayant une version installée de Constellation (Électron ou Node.js), excluant donc l&#39;appli Constellation Internet sur navigateur.</li></ul><h3 id="client-favoris-suivrefavoris-f-idcompte" tabindex="-1"><code>client.favoris.suivreFavoris({ f, idCompte })</code> <a class="header-anchor" href="#client-favoris-suivrefavoris-f-idcompte" aria-label="Permalink to &quot;\`client.favoris.suivreFavoris({ f, idCompte })\`&quot;">​</a></h3><p>Suit les favoris d&#39;un compte. Identique à <a href="./réseau.html#client-reseau-suivrefavorismembre-idcompte-f"><code>client.réseau.suivreFavorisMembre</code></a>.</p><h4 id="parametres" tabindex="-1">Paramètres <a class="header-anchor" href="#parametres" aria-label="Permalink to &quot;Paramètres&quot;">​</a></h4><table><thead><tr><th>Nom</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>f</code></td><td><code>(favoris: </code><a href="#types"><code>ÉlémentFavorisAvecObjet</code></a><code>) =&gt; void</code></td><td>Une fonction qui sera appelée avec la liste des favoris associées au compte chaque fois que celle-ci change.</td></tr><tr><td><code>idCompte</code></td><td><code>string</code></td><td>L&#39;identifiant de compte dont on veut suivre les favoris. Si non spécifié, le compte actuel sera utilisé.</td></tr></tbody></table><h4 id="retour" tabindex="-1">Retour <a class="header-anchor" href="#retour" aria-label="Permalink to &quot;Retour&quot;">​</a></h4><table><thead><tr><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>Promise&lt;() =&gt; Promise&lt;void&gt;&gt;</code></td><td>Fonction à appeler pour arrêter le suivi.</td></tr></tbody></table><h4 id="exemple" tabindex="-1">Exemple <a class="header-anchor" href="#exemple" aria-label="Permalink to &quot;Exemple&quot;">​</a></h4><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { ref } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;vue&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { générerClient, </span><span style="color:#F97583;">type</span><span style="color:#E1E4E8;"> favoris </span><span style="color:#F97583;">as</span><span style="color:#E1E4E8;"> fav} </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;@constl/ipa&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">client</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">générerClient</span><span style="color:#E1E4E8;">({});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">favoris</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">ref</span><span style="color:#E1E4E8;">&lt;</span><span style="color:#B392F0;">fav</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">ÉlémentFavorisAvecObjet</span><span style="color:#E1E4E8;">[]&gt;();</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">fOublier</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> client.favoris.</span><span style="color:#B392F0;">suivreFavoris</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">f</span><span style="color:#E1E4E8;">: </span><span style="color:#FFAB70;">x</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> favoris.value </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> x,</span></span>
<span class="line"><span style="color:#E1E4E8;">});</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { ref } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;vue&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { générerClient, </span><span style="color:#D73A49;">type</span><span style="color:#24292E;"> favoris </span><span style="color:#D73A49;">as</span><span style="color:#24292E;"> fav} </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;@constl/ipa&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">client</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">générerClient</span><span style="color:#24292E;">({});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">favoris</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ref</span><span style="color:#24292E;">&lt;</span><span style="color:#6F42C1;">fav</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">ÉlémentFavorisAvecObjet</span><span style="color:#24292E;">[]&gt;();</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">fOublier</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">await</span><span style="color:#24292E;"> client.favoris.</span><span style="color:#6F42C1;">suivreFavoris</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">f</span><span style="color:#24292E;">: </span><span style="color:#E36209;">x</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> favoris.value </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> x,</span></span>
<span class="line"><span style="color:#24292E;">});</span></span></code></pre></div><h3 id="client-favoris-epinglerfavori-idobjet-dispositifs" tabindex="-1"><code>client.favoris.épinglerFavori({ idObjet, dispositifs, ... })</code> <a class="header-anchor" href="#client-favoris-epinglerfavori-idobjet-dispositifs" aria-label="Permalink to &quot;\`client.favoris.épinglerFavori({ idObjet, dispositifs, ... })\`&quot;">​</a></h3><p>Épingle des données sur ce compte.</p><h4 id="parametres-1" tabindex="-1">Paramètres <a class="header-anchor" href="#parametres-1" aria-label="Permalink to &quot;Paramètres&quot;">​</a></h4><table><thead><tr><th>Nom</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>idObjet</code></td><td><code>string</code></td><td>L&#39;identifiant des données (bases de données, variable ou autre) à épingler.</td></tr><tr><td><code>dispositifs</code></td><td><a href="#types"><code>typeDispositifs</code></a></td><td>Les dispositifs sur lesquels ces données doivent être épinglées.</td></tr><tr><td><code>dispositifsFichiers</code></td><td><a href="#types"><code>typeDispositifs</code></a><code> | undefined</code></td><td>Les dispositifs sur lesquels des fichiers éventuelement présents dans les données (images, vidéos ou autres) devraient être épinglés. Par défaut, les fichiers seront uniquement épinglés sur les dispositifs avec une installation de Constellation (et non sur les navigateurs) afin de sauvegarder de l&#39;espace.</td></tr></tbody></table><h4 id="exemple-1" tabindex="-1">Exemple <a class="header-anchor" href="#exemple-1" aria-label="Permalink to &quot;Exemple&quot;">​</a></h4><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { générerClient, </span><span style="color:#F97583;">type</span><span style="color:#E1E4E8;"> favoris } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;@constl/ipa&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">client</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">générerClient</span><span style="color:#E1E4E8;">({});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">idBd</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> client.bds.</span><span style="color:#B392F0;">créerBd</span><span style="color:#E1E4E8;">({ licence: </span><span style="color:#9ECBFF;">&quot;ODBl-1_0&quot;</span><span style="color:#E1E4E8;"> });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> client.favoris.</span><span style="color:#B392F0;">épinglerFavori</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">  idObjet: idBd,</span></span>
<span class="line"><span style="color:#E1E4E8;">});</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { générerClient, </span><span style="color:#D73A49;">type</span><span style="color:#24292E;"> favoris } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;@constl/ipa&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">client</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">générerClient</span><span style="color:#24292E;">({});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">idBd</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">await</span><span style="color:#24292E;"> client.bds.</span><span style="color:#6F42C1;">créerBd</span><span style="color:#24292E;">({ licence: </span><span style="color:#032F62;">&quot;ODBl-1_0&quot;</span><span style="color:#24292E;"> });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">await</span><span style="color:#24292E;"> client.favoris.</span><span style="color:#6F42C1;">épinglerFavori</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">  idObjet: idBd,</span></span>
<span class="line"><span style="color:#24292E;">});</span></span></code></pre></div><h3 id="client-favoris-desepinglerfavori-idobjet" tabindex="-1"><code>client.favoris.désépinglerFavori({ idObjet })</code> <a class="header-anchor" href="#client-favoris-desepinglerfavori-idobjet" aria-label="Permalink to &quot;\`client.favoris.désépinglerFavori({ idObjet })\`&quot;">​</a></h3><p>Désépingle des données de ce compte.</p><h4 id="parametres-2" tabindex="-1">Paramètres <a class="header-anchor" href="#parametres-2" aria-label="Permalink to &quot;Paramètres&quot;">​</a></h4><table><thead><tr><th>Nom</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>idObjet</code></td><td><code>string</code></td><td>L&#39;identifiant des données (bases de données, variable ou autre) à désépingler.</td></tr></tbody></table><h4 id="exemple-2" tabindex="-1">Exemple <a class="header-anchor" href="#exemple-2" aria-label="Permalink to &quot;Exemple&quot;">​</a></h4><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">/// ...continuant de ci-dessus...</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> client.favoris.</span><span style="color:#B392F0;">désépinglerFavori</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">  idObjet: idBd,</span></span>
<span class="line"><span style="color:#E1E4E8;">});</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">/// ...continuant de ci-dessus...</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">await</span><span style="color:#24292E;"> client.favoris.</span><span style="color:#6F42C1;">désépinglerFavori</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">  idObjet: idBd,</span></span>
<span class="line"><span style="color:#24292E;">});</span></span></code></pre></div><h3 id="client-favoris-suivreetatfavori-idobjet-f" tabindex="-1"><code>client.favoris.suivreÉtatFavori({ idObjet, f })</code> <a class="header-anchor" href="#client-favoris-suivreetatfavori-idobjet-f" aria-label="Permalink to &quot;\`client.favoris.suivreÉtatFavori({ idObjet, f })\`&quot;">​</a></h3><p>Suit le statut de l&#39;épingle d&#39;un objet sur ce compte.</p><div class="tip custom-block"><p class="custom-block-title">CONSEIL</p><p>Si vous voulez savoir si des données sont épinglées ailleurs sur le réseau, utiliser <a href="./réseau.html#client-reseau-suivrefavorisobjet-idobjet-f-profondeur"><code>client.réseau.suivreFavorisObjet</code></a> à la place.</p></div><h4 id="parametres-3" tabindex="-1">Paramètres <a class="header-anchor" href="#parametres-3" aria-label="Permalink to &quot;Paramètres&quot;">​</a></h4><table><thead><tr><th>Nom</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>idObjet</code></td><td><code>string</code></td><td>L&#39;identifiant de l&#39;objet (base de données, projet, variable ou autre) d&#39;intérêt.</td></tr><tr><td><code>f</code></td><td><code>(favoris: </code><a href="#types"><code>ÉlémentFavoris</code></a><code> | undefined) =&gt; void</code></td><td>Une fonction qui sera appelée avec l&#39;épingle de l&#39;objet chaque fois que celle-ci change. Si l&#39;objet n&#39;est pas épinglé sur ce compte, <code>undefined</code> sera passé à la fonction.</td></tr></tbody></table><h4 id="retour-1" tabindex="-1">Retour <a class="header-anchor" href="#retour-1" aria-label="Permalink to &quot;Retour&quot;">​</a></h4><table><thead><tr><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>Promise&lt;() =&gt; Promise&lt;void&gt;&gt;</code></td><td>Fonction à appeler pour arrêter le suivi.</td></tr></tbody></table><h4 id="exemple-3" tabindex="-1">Exemple <a class="header-anchor" href="#exemple-3" aria-label="Permalink to &quot;Exemple&quot;">​</a></h4><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { ref } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;vue&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { générerClient, </span><span style="color:#F97583;">type</span><span style="color:#E1E4E8;"> favoris </span><span style="color:#F97583;">as</span><span style="color:#E1E4E8;"> fav } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;@constl/ipa&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">client</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">générerClient</span><span style="color:#E1E4E8;">({});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">idBd</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> client.bds.</span><span style="color:#B392F0;">créerBd</span><span style="color:#E1E4E8;">({ licence: </span><span style="color:#9ECBFF;">&quot;ODBl-1_0&quot;</span><span style="color:#E1E4E8;"> });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">favoris</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">ref</span><span style="color:#E1E4E8;">&lt;</span><span style="color:#B392F0;">fav</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">ÉlémentFavoris</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">undefined</span><span style="color:#E1E4E8;">&gt;();</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">fOublier</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> client.favoris.</span><span style="color:#B392F0;">suivreÉtatFavori</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">  idObjet: idBd,</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">f</span><span style="color:#E1E4E8;">: </span><span style="color:#FFAB70;">x</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> favoris.value </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> x,</span></span>
<span class="line"><span style="color:#E1E4E8;">});</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { ref } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;vue&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { générerClient, </span><span style="color:#D73A49;">type</span><span style="color:#24292E;"> favoris </span><span style="color:#D73A49;">as</span><span style="color:#24292E;"> fav } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;@constl/ipa&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">client</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">générerClient</span><span style="color:#24292E;">({});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">idBd</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">await</span><span style="color:#24292E;"> client.bds.</span><span style="color:#6F42C1;">créerBd</span><span style="color:#24292E;">({ licence: </span><span style="color:#032F62;">&quot;ODBl-1_0&quot;</span><span style="color:#24292E;"> });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">favoris</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ref</span><span style="color:#24292E;">&lt;</span><span style="color:#6F42C1;">fav</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">ÉlémentFavoris</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">undefined</span><span style="color:#24292E;">&gt;();</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">fOublier</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">await</span><span style="color:#24292E;"> client.favoris.</span><span style="color:#6F42C1;">suivreÉtatFavori</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">  idObjet: idBd,</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">f</span><span style="color:#24292E;">: </span><span style="color:#E36209;">x</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> favoris.value </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> x,</span></span>
<span class="line"><span style="color:#24292E;">});</span></span></code></pre></div><h3 id="client-favoris-suivreestepinglesurdispositif-idobjet-f" tabindex="-1"><code>client.favoris.suivreEstÉpingléSurDispositif({ idObjet, f, ... })</code> <a class="header-anchor" href="#client-favoris-suivreestepinglesurdispositif-idobjet-f" aria-label="Permalink to &quot;\`client.favoris.suivreEstÉpingléSurDispositif({ idObjet, f, ... })\`&quot;">​</a></h3><p>Suit le statut de l&#39;épingle d&#39;un objet sur un dispositif.</p><h4 id="parametres-4" tabindex="-1">Paramètres <a class="header-anchor" href="#parametres-4" aria-label="Permalink to &quot;Paramètres&quot;">​</a></h4><table><thead><tr><th>Nom</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>idObjet</code></td><td><code>string</code></td><td>L&#39;identifiant de l&#39;objet (base de données, projet, variable ou autre) d&#39;intérêt.</td></tr><tr><td><code>f</code></td><td><code>(favoris: </code><a href="#types"><code>ÉlémentFavoris</code></a><code> | undefined) =&gt; void</code></td><td>Une fonction qui sera appelée avec l&#39;épingle de l&#39;objet chaque fois que celle-ci change. Si l&#39;objet n&#39;est pas épinglé sur ce compte, <code>undefined</code> sera passé à la fonction.</td></tr><tr><td><code>idDispositif</code></td><td><code>string</code></td><td>L&#39;Identtifiant du dispositif d&#39;intérêt. Si non spécifié, Constellation utilisera le dispositif actuel par défaut.</td></tr></tbody></table><h4 id="retour-2" tabindex="-1">Retour <a class="header-anchor" href="#retour-2" aria-label="Permalink to &quot;Retour&quot;">​</a></h4><table><thead><tr><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>Promise&lt;() =&gt; Promise&lt;void&gt;&gt;</code></td><td>Fonction à appeler pour arrêter le suivi.</td></tr></tbody></table><h4 id="exemple-4" tabindex="-1">Exemple <a class="header-anchor" href="#exemple-4" aria-label="Permalink to &quot;Exemple&quot;">​</a></h4><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { ref } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;vue&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { générerClient, </span><span style="color:#F97583;">type</span><span style="color:#E1E4E8;"> favoris </span><span style="color:#F97583;">as</span><span style="color:#E1E4E8;"> fav } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;@constl/ipa&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">client</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">générerClient</span><span style="color:#E1E4E8;">({});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">idBd</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> client.bds.</span><span style="color:#B392F0;">créerBd</span><span style="color:#E1E4E8;">({ licence: </span><span style="color:#9ECBFF;">&quot;ODBl-1_0&quot;</span><span style="color:#E1E4E8;"> });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">épingle</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">ref</span><span style="color:#E1E4E8;">&lt;</span><span style="color:#B392F0;">fav</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">épingleDispositif</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">undefined</span><span style="color:#E1E4E8;">&gt;();</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">fOublier</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> client.favoris.</span><span style="color:#B392F0;">suivreEstÉpingléSurDispositif</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">  idObjet: idBd,</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">f</span><span style="color:#E1E4E8;">: </span><span style="color:#FFAB70;">x</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> épingle.value </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> x,</span></span>
<span class="line"><span style="color:#E1E4E8;">});</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { ref } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;vue&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { générerClient, </span><span style="color:#D73A49;">type</span><span style="color:#24292E;"> favoris </span><span style="color:#D73A49;">as</span><span style="color:#24292E;"> fav } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;@constl/ipa&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">client</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">générerClient</span><span style="color:#24292E;">({});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">idBd</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">await</span><span style="color:#24292E;"> client.bds.</span><span style="color:#6F42C1;">créerBd</span><span style="color:#24292E;">({ licence: </span><span style="color:#032F62;">&quot;ODBl-1_0&quot;</span><span style="color:#24292E;"> });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">épingle</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ref</span><span style="color:#24292E;">&lt;</span><span style="color:#6F42C1;">fav</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">épingleDispositif</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">undefined</span><span style="color:#24292E;">&gt;();</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">fOublier</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">await</span><span style="color:#24292E;"> client.favoris.</span><span style="color:#6F42C1;">suivreEstÉpingléSurDispositif</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">  idObjet: idBd,</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">f</span><span style="color:#24292E;">: </span><span style="color:#E36209;">x</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> épingle.value </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> x,</span></span>
<span class="line"><span style="color:#24292E;">});</span></span></code></pre></div><h2 id="types" tabindex="-1">Types <a class="header-anchor" href="#types" aria-label="Permalink to &quot;Types&quot;">​</a></h2><p>Plusieurs types son associés avec les favoris.</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">type</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">typeDispositifs</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">string</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">string</span><span style="color:#E1E4E8;">[] </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;TOUS&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;INSTALLÉ&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">type</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">ÉlémentFavoris</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#FFAB70;">récursif</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">boolean</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#FFAB70;">dispositifs</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">typeDispositifs</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#FFAB70;">dispositifsFichiers</span><span style="color:#F97583;">?:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">typeDispositifs</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">type</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">ÉlémentFavorisAvecObjet</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">ÉlémentFavoris</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&amp;</span><span style="color:#E1E4E8;"> { </span><span style="color:#FFAB70;">idObjet</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">string</span><span style="color:#E1E4E8;"> };</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">type</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">typeDispositifs</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">string</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">string</span><span style="color:#24292E;">[] </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;TOUS&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;INSTALLÉ&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">type</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ÉlémentFavoris</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#E36209;">récursif</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">boolean</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#E36209;">dispositifs</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">typeDispositifs</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#E36209;">dispositifsFichiers</span><span style="color:#D73A49;">?:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">typeDispositifs</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">type</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ÉlémentFavorisAvecObjet</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ÉlémentFavoris</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&amp;</span><span style="color:#24292E;"> { </span><span style="color:#E36209;">idObjet</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">string</span><span style="color:#24292E;"> };</span></span></code></pre></div>`,49),p=[e];function t(r,c,i,y,E,d){return a(),n("div",null,p)}const v=s(l,[["render",t]]);export{f as __pageData,v as default};
