import{_ as s,o as n,c as a,V as l}from"./chunks/framework.b1ba171e.js";const C=JSON.parse('{"title":"Science citoyenne","description":"","frontmatter":{},"headers":[],"relativePath":"kaq/exemples/scienceCitoyenne.md","filePath":"kaq/exemples/scienceCitoyenne.md"}'),o={name:"kaq/exemples/scienceCitoyenne.md"},e=l(`<h1 id="science-citoyenne" tabindex="-1">Science citoyenne <a class="header-anchor" href="#science-citoyenne" aria-label="Permalink to &quot;Science citoyenne&quot;">​</a></h1><p>Nous y travaillons... revenez plus tard, ou, encore mieux, <a href="mailto:julien.malard@mail.mcgill.ca" target="_blank" rel="noreferrer">contactez-nous !</a></p><h2 id="le-projet" tabindex="-1">Le projet <a class="header-anchor" href="#le-projet" aria-label="Permalink to &quot;Le projet&quot;">​</a></h2><p>Présentation du but du projet</p><p>Qu&#39;est-ce qu&#39;une nuée</p><p>Autorisations</p><h2 id="les-donnees" tabindex="-1">Les données <a class="header-anchor" href="#les-donnees" aria-label="Permalink to &quot;Les données&quot;">​</a></h2><p>Maintenant, nous allons choisir la structure de nos données.</p><table><thead><tr><th>Date</th><th>Endroit</th><th>Niveau d&#39;eau</th><th>Image</th></tr></thead><tbody><tr><td>01 - 01 -2023</td><td>A</td><td>40</td><td>photo325.jpeg</td></tr><tr><td>Ensuite, pour garder compte de l&#39;information sur nos zônes d&#39;observation, nous allons créer un second tableau. Comme ça, nous ne dédoublons pas l&#39;information de latitude, longitude et altitude à chaque observation dans le tableau ci-dessus.</td><td></td><td></td><td></td></tr></tbody></table><table><thead><tr><th>Endroit</th><th>Latitude</th><th>Longitude</th><th>Altitude</th></tr></thead><tbody><tr><td>A</td><td>1</td><td>2</td><td>3</td></tr></tbody></table><div class="tip custom-block"><p class="custom-block-title">CONSEIL</p><p>Nous avons deux possibilités pour le tableau des informations de site. Nous pouvions soit préciser les endroits permis pour l&#39;entrée de données et ainsi limiter les contributions à des endroits géographiques que nous aurions pré-choisis, soit inclure le tableau des endroits d&#39;observation dans notre nuée et ainsi permettre aux utilisatrices d&#39;ajouter ou de définir leurs propres endroits d&#39;observation. Pour ce tutoriel, nous avons choisi la seconde option.</p></div><p>Chaque personne qui participe au projet de science citoyenne aura sa propre copie des données ci-dessus. Celles-ci seront regroupées par notre nuées, qui définira les règles de participation et de contribution de données.</p><p>Nous avons donc sept variables, dont 1 date, 3 numériques, 1 image et 1 chaîne (texte).</p><h3 id="creation-des-variables" tabindex="-1">Création des variables <a class="header-anchor" href="#creation-des-variables" aria-label="Permalink to &quot;Création des variables&quot;">​</a></h3><p>Nous allons maintenant construire notre structure de données selon le schéma que nous avons établit ci-dessus. Nous allons ajouter deux tableaux à notre nuée et spécifier leurs colonnes et variables. Pour le premier tableau, vous pouvez spécifier les colonnes de date et d&#39;endroit en tant que colonnes indexes, et, pour le deuxième, la colonne endroit.</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>Une colonne indexe est une colonne (ou un groupe de colonnes) dont les valeurs ne peuvent être répétées dans le tableau. Dans notre cas, chaque endroit, à un moment précis, ne peut avoir qu&#39;une observation.</p></div><p>[Image à inclure]</p><p>Et voici l&#39;équivalent en code :</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">générerClient</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">@constl/ipa</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> client </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">générerClient</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> idVarDate </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#A6ACCD;"> client</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">variables</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">créerVariable</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">catégorie</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">horoDatage</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// Il s&#39;agit d&#39;un code unique pour chaque endroit, donc pas de traductions</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> idVarEndroit </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#A6ACCD;"> client</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">variables</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">créerVariable</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">catégorie</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">chaîneNonTraduisible</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> idVarNiveauDEau </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#A6ACCD;"> client</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">variables</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">créerVariable</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">catégorie</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">numérique</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> idVarImage </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#A6ACCD;"> client</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">variables</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">créerVariable</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">catégorie</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">image</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// Continuer pour les autre variables...</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// Ajouter noms</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#A6ACCD;"> client</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">variables</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">sauvegarderNomVariable</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">idVariable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> idVarNiveauDEau</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">langue</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">fr</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">nom</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Niveau d&#39;eau</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ...continuer pour les autres variables aussi</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// Créer nuée</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> idNuée </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#A6ACCD;"> client</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">nuées</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">créerNuée</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// Créer tableaux nuée</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> idTableauObs </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#A6ACCD;"> client</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">nuées</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">ajouterTableauNuée</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    idNuée</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">clefTableau</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">observations</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;">// Une clef unique pour le tableau</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> idTableauEndroits </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#A6ACCD;"> client</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">nuées</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">ajouterTableauNuée</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    idNuée</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">clefTableau</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">endroits</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// Ajouter les variables au tableau d&#39;observation</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#A6ACCD;"> (idVariable </span><span style="color:#89DDFF;">of</span><span style="color:#A6ACCD;"> [idVarEndroit</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> idVarDate</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> idVarNiveauDEau</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> idVarImage]) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">client</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">nuées</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">ajouterColonneTableauNuée</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        idTableau</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">idTableauObs</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">idVariable</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">// Indexer les données selon l&#39;endroit et la date</span></span>
<span class="line"><span style="color:#F07178;">        index</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> [</span><span style="color:#A6ACCD;">idVarEndroit</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">idVarDate</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">includes</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">idVariable</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ... et faire de même pour le tableau des endroits d&#39;observation</span></span></code></pre></div><h3 id="validation" tabindex="-1">Validation <a class="header-anchor" href="#validation" aria-label="Permalink to &quot;Validation&quot;">​</a></h3><p>[Image à inclure]</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">générerClient</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">@constl/ipa</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> client </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">générerClient</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#A6ACCD;"> client</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">nuées</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">ajouterRègleTableauNuée</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">idTableau</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> idTableauObs</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">idColonne</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> idColNiveauDEau</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">règle</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">typeRègle</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">bornes</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">détails</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#F07178;">type</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">fixe</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">            val: </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#F07178;">op</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">&gt;=</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span></code></pre></div><h2 id="autorisations" tabindex="-1">Autorisations <a class="header-anchor" href="#autorisations" aria-label="Permalink to &quot;Autorisations&quot;">​</a></h2><p>Nous pouvons également changer les autorisations de la nuée. Vous pouvez rendre une nuée prive publique et vice-versa, ou bien inviter ou exclure des personnes.</p><p>[Image à inclure]</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#A6ACCD;"> client</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">nuées</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">exclureMembreDeNuée</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    idNuée</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">idCompte</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">id du compte de quelqu&#39;un que je n&#39;aime pas</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span></code></pre></div><h2 id="collecte-de-donnees" tabindex="-1">Collecte de données <a class="header-anchor" href="#collecte-de-donnees" aria-label="Permalink to &quot;Collecte de données&quot;">​</a></h2><p>Les participants à votre projet peuvent maintenant collecter des données. Il suffit pour eux d&#39;ouvrir le lien vers votre nuée sur leur propre compte Constellation, de choisir l&#39;option « Créer une base de données » et d&#39;entrer leurs données - soit manuellement, soit d&#39;un fichier existant - dans la nouvelle base de données.</p><p>[Image à inclure]</p><p>Cependant, ce n&#39;est peut-être pas l&#39;expérience que vous désirez pour vous scientifiques citoyens. L&#39;interface de Constellation est conçue pour des chercheuses, avec beaucoup d&#39;options et de boutons, et il serait mieux d&#39;avoir une interface plus simple et dirigée à votre projet. Constellation vous donne donc l&#39;option de créer, automagiquement, une application spécifique à votre projet. Vous pouvez ensuite la distribuer à vos utilisateurs, et leurs contributions apparaîtront directement sur votre tableau de bord.</p><p>[Image à inclure]</p><h2 id="visualisation" tabindex="-1">Visualisation <a class="header-anchor" href="#visualisation" aria-label="Permalink to &quot;Visualisation&quot;">​</a></h2><p>Nous pouvons maintenant visualiser les données dans l&#39;interface Constellation. Créez une base de données sur le gabarit de votre nuée et puis ajoutez-y des données. En retournant sur la page de la nuée, vous verrez que vos données apparaissent dans la nuée.</p><p>Si vous avez une amie dans les parages, partagez-lui l&#39;identifiant de votre nuée et demandez-lui de créer sa propre base de données et d&#39;y ajouter des données. Elles apparaîteront dans la nuée !</p><p>[Image à inclure]</p><p>Vous pouvez également accéder aux données programmatiquement en TypeScript ou JavaScript :</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> données </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#A6ACCD;"> client</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">nuées</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">suivreDonnéesTableauNuée</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    idNuée</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">clefTableau</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">observations</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">f</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> console</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">log</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;">// Ou quelque chose de plus intelligent</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">nRésultatsDésirés</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1000</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span></code></pre></div><h2 id="acces-programmatique" tabindex="-1">Accès programmatique <a class="header-anchor" href="#acces-programmatique" aria-label="Permalink to &quot;Accès programmatique&quot;">​</a></h2><p>Mais ce n&#39;est pas tout ! Vous pouvez également analyser vos données de science citoyenne dans un autre logiciel et faire des analyses en temps réel.</p><p>Tout d&#39;abord, nous allons activer le nœud local Constellation sur l&#39;interface et noter le numéro de port. Ceci nous permettra d&#39;accéder Constellation à partir de notre code Python.</p><div class="tip custom-block"><p class="custom-block-title">CONSEIL</p><p>Vous devrez installer <code>constellationPy</code> et <code>trio</code> pour suivre l&#39;exemple ci-dessous. Nous vous recommandons <strong>fortement</strong> l&#39;utilisation de <a href="https://python-poetry.org/" target="_blank" rel="noreferrer">poetry</a> pour gérer vos dépendances Python.</p></div><p>[Image à inclure]</p><p>Voici un exemple de code Python qui vous permettra d&#39;accéder à vos donneés de science citoyenne.</p><div class="tip custom-block"><p class="custom-block-title">CONSEIL</p><p>Avions-nous dit que nous recommandons <strong>fortement</strong> l&#39;utilisation de <a href="https://python-poetry.org/" target="_blank" rel="noreferrer">poetry</a> ?</p></div><div class="language-py"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> trio</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> constellationPy </span><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> Serveur</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> ouvrir_client</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># Copier l&#39;identifiant de la nuée que vous avez créée</span></span>
<span class="line"><span style="color:#A6ACCD;">id_nuée </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">/orbitdb/zdpu...</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">clef_tableau </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># Le numéro de port que l&#39;interface de Constellation vous a donné</span></span>
<span class="line"><span style="color:#A6ACCD;">port </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">5004</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># Cette fonction sera appelée chaque fois que des nouvelles données sont disponibles sur la nuée</span></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">ma_fonction_danalyse</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">données</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">données</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;"># Executer votre brillante analyse ici</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;"># ...</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">async</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">principale</span><span style="color:#89DDFF;">():</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;font-style:italic;">async</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">with</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">ouvrir_client</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">port</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">as</span><span style="color:#A6ACCD;"> client</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">        données </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#A6ACCD;"> client</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">suivre_données_tableau_nuée</span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#82AAFF;">            </span><span style="color:#A6ACCD;font-style:italic;">id_nuée</span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;">id_nuée</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#82AAFF;">            </span><span style="color:#A6ACCD;font-style:italic;">clef_tableau</span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;">clef_tableau</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#82AAFF;">            </span><span style="color:#A6ACCD;font-style:italic;">f</span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;">ma_fonction_danalyse</span></span>
<span class="line"><span style="color:#82AAFF;">        </span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">trio</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">run</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">principale</span><span style="color:#89DDFF;">)</span></span></code></pre></div><p>Si vous n&#39;êtes pas très très Python, vous pouvez aussi faire la même chose en R ou bien en Julia.</p><div class="language-r"><button title="Copy Code" class="copy"></button><span class="lang">r</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#82AAFF;">library</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">constellationR</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># Copier l&#39;identifiant de la nuée que vous avez créée</span></span>
<span class="line"><span style="color:#A6ACCD;font-style:italic;">id_nuée</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">/orbitdb/zdpu...</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;font-style:italic;">clef_tableau</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># Le numéro de port que l&#39;interface de Constellation vous a donné</span></span>
<span class="line"><span style="color:#A6ACCD;">port </span><span style="color:#89DDFF;">&lt;-</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">5004</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">analyserDonnées</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;-</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">function</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">données</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#A6ACCD;">(données)</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;"># Faire le reste de votre analyse...</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">avecClient</span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#82AAFF;">    </span><span style="color:#89DDFF;font-style:italic;">function</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">client</span><span style="color:#89DDFF;">)</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#82AAFF;">        </span><span style="color:#A6ACCD;">données</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">&lt;-</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;">client</span><span style="color:#F78C6C;">$</span><span style="color:#A6ACCD;">obtDonnéesNuée</span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#82AAFF;">            </span><span style="color:#A6ACCD;font-style:italic;">idNuée</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;">idNuée</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;font-style:italic;">clefTableau</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;">clefTableau</span></span>
<span class="line"><span style="color:#82AAFF;">        </span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#82AAFF;">        </span><span style="color:#A6ACCD;">analyserDonnées</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">données</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#82AAFF;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#82AAFF;">    </span><span style="color:#A6ACCD;font-style:italic;">port</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;">port</span></span>
<span class="line"><span style="color:#89DDFF;">)</span></span></code></pre></div><p>Et en Julia !</p><div class="language-julia"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> Constellation</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># L&#39;identifiant de la nuée et du tableau d&#39;intérêt</span></span>
<span class="line"><span style="color:#A6ACCD;">idNuée </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">/orbitdb/zdpu...</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">clefTableau </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># Le numéro de port que l&#39;interface de Constellation vous a donné</span></span>
<span class="line"><span style="color:#A6ACCD;">port </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">5004</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">Constellation</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">avecClient</span><span style="color:#A6ACCD;">(port) </span><span style="color:#89DDFF;font-style:italic;">do</span><span style="color:#A6ACCD;"> client</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;"># Obtenir les données, en français si possible, sinon en alemand</span></span>
<span class="line"><span style="color:#A6ACCD;">    donnéesRéseau </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> Constellation</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">obtDonnéesNuée</span><span style="color:#A6ACCD;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">        client, idNuée, clefTableau, [</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">fr</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">de</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">    )</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">end</span></span></code></pre></div><p>Pour plus d&#39;information, voir la section sur les <a href="./../avancé/autresLangages/introduction.html">autres langages</a>.</p>`,50),p=[e];function t(c,r,i,D,y,F){return n(),a("div",null,p)}const u=s(o,[["render",t]]);export{C as __pageData,u as default};
